// human readable source available at: https://github.com/deadlygeek/timestable
(function(){"use strict";var t,e,r,s,i="0",n=!0,o=300,l=1e3,a=3e3,c=function(){s=tt.choose(),t=s.multiplicand*s.multiplier,T(s.multiplicand+" x "+s.multiplier+" = ?"),n=!0,simpleTimer.startTimer()},u=function(){var e,o=simpleTimer.getMilliseconds();o>tt.STARTING_PROGRESS&&(o=tt.STARTING_PROGRESS),t===parseInt(i,10)?(S("CORRECT! ("+simpleTimer.getMilliseconds()+")"),s.ms=simpleTimer.getMilliseconds(),e=l):(S("WRONG! -- "+t),s.ms=tt.STARTING_PROGRESS,e=a),n=!1,v(""),clearInterval(r),r=setInterval(m,e),tt.saveProgress()},m=function(){clearInterval(r),p()},p=function(){S(" "),h(),c()},g=function(e){"0"===i?(i=e,10>t&&f()):1===i.length&&(i+=e,f()),v(i)},f=function(){simpleTimer.stopTimer(),clearInterval(e),e=setInterval(d,o)},d=function(){clearInterval(e),u()},h=function(){i="0",v(i)},T=function(t){R.questionUpdateHandler(t)},S=function(t){R.resultsUpdateHandler(t)},v=function(t){R.answerUpdateHandler(t)},R={questionUpdateHandler:void 0,resultsUpdateHandler:void 0,answerUpdateHandler:void 0};this.gc={},this.gc.handleKeyInput=function(t){n&&("c"===t?h():"e"===t?u():g(t))},this.gc.initGame=function(t,e,r){R.questionUpdateHandler=t,R.resultsUpdateHandler=e,R.answerUpdateHandler=r,c()}}).call(this),function(){"use strict";var t="0",e="00",r=!1,s=0,i=!1,n=function(){var t=(new Date).getTime();s=t-i};this.simpleTimer={},this.simpleTimer.getMilliseconds=function(){return i===!1?0:r?(n(),s):s},this.simpleTimer.stopTimer=function(){r=!1,n()},this.simpleTimer.resetTimer=function(){s=0,i=(new Date).getTime()},this.simpleTimer.startTimer=function(){r=!0,s=0,i=(new Date).getTime()},this.simpleTimer.isRunning=function(){return r},this.simpleTimer.formatMinutesSeconds=function(){var r=""+Math.floor(s/1e3%60),i=""+Math.floor(s/1e3/60);1===r.length&&(r="0"+r),t=i,e=r}}.call(this),function(){"use strict";var t=this;this.tt={},this.tt.STARTING_PROGRESS=1e4,this.tt.progress=[];var e=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},r=function(){for(var e=[],r=0;9>=r;r++)for(var s=0;9>=s;s++){var i={ms:t.tt.STARTING_PROGRESS,multiplicand:r,multiplier:s};e.push(i)}return e},s=function(t){var e,r,s,i=t.length;if(0===i)return!1;for(;--i;)e=Math.floor(Math.random()*(i+1)),r=t[i],s=t[e],t[i]=s,t[e]=r},i=function(t,e){return t.ms>e.ms?-1:t.ms===e.ms?0:1};this.tt.pickTopTenProgressScores=function(t){return s(t),t.sort(i),t.slice(0,10)},this.tt.resetProgress=function(){tt.progress=[],tt.progress=r()},this.tt.choose=function(){var t=tt.pickTopTenProgressScores(tt.progress),e=t[Math.floor(Math.random()*t.length)];return e},this.tt.loadProgress=function(){var t,r,s,i,n,o;if(!e())return alert("Your browsers does not support localStorage. Progress will not be saved on exit."),tt.resetProgress(),!1;for(tt.progress=[],s=0,t=0;9>=t;t++)for(r=0;9>=r;r++)i=parseInt(localStorage["timestable.progress.ms."+s],10),n=parseInt(localStorage["timestable.progress.multiplicand."+s],10),o=parseInt(localStorage["timestable.progress.multiplier."+s],10),0>=i&&1e4>=i||(i=tt.STARTING_PROGRESS),n>=0&&9>=n||(n=t),o>=0&&9>=o||(o=r),tt.progress.push({ms:i,multiplicand:n,multiplier:o}),s+=1;return tt.progress},this.tt.saveProgress=function(){var t;if(!e())return!1;for(t=0;tt.progress.length>t;t++)localStorage["timestable.progress.ms."+t]=tt.progress[t].ms,localStorage["timestable.progress.multiplicand."+t]=tt.progress[t].multiplicand,localStorage["timestable.progress.multiplier."+t]=tt.progress[t].multiplier}}.call(this);